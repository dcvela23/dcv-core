{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/main.js","src/js/modules/Banner.js","src/js/modules/Navbar.js","src/js/modules/ServicesMenu.js","src/js/utils/checkInView.js","src/js/utils/checkMainEl.js","src/js/utils/classes.js","src/js/utils/offset.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\nimport Navbar from './modules/Navbar.js';\nimport ServicesMenu from './modules/ServicesMenu.js';\nimport Banner from './modules/Banner.js';\n\n(function() {\n  var NavbarInit = new Navbar(document.querySelector(\"#nav\"));\n})()\n","import { offset } from './../utils/offset'\nimport { hasClass, addClass, removeClass } from './../utils/classes'\n\nclass Banner {\n  constructor(el){\n    this.banner = {el: el};\n    this.bannerEl = this.banner.el;\n    this.bannerTop = offset(this.bannerEl).top;\n    this.bannerHeight = this.bannerEl.offsetHeight;\n    this.bannerBottom = this.bannerTop + this.bannerHeight;\n    this.bannerWrapper = this.bannerEl.querySelector('.banner__wrapper');\n    this.initEvents();\n  }\n\n  initEvents(){\n    var that = this;\n    document.addEventListener(\"scroll\", function(){\n      that.addSticky();\n    });\n  }\n\n  addSticky(){\n    var windowHeight = window.innerHeight;\n    var windowTop = document.documentElement.scrollTop;\n    var windowBottom = windowTop + windowHeight;\n    var navbarRight = document.querySelector('.navbar__right');\n    var navbarRight = document.querySelector('.navbar__right');\n    var navbarTop = offset(document.querySelector('#nav')).top;\n\n    if (navbarTop > 500 && windowBottom - this.bannerWrapper.offsetHeight < this.bannerBottom ){\n      if (!hasClass(this.bannerWrapper, 'sticky')){\n        addClass(this.bannerWrapper, 'sticky');\n        removeClass(this.bannerWrapper, 'bottom');\n        //\n        if (window.matchMedia(\"(min-width: 1024px)\").matches) {\n          navbarRight.style.transform = 'translateX(245px)'\n        }\n      }\n    } else if (windowBottom  - this.bannerWrapper.offsetHeight > this.bannerBottom  ) {\n      removeClass(this.bannerWrapper, 'sticky')\n      addClass(this.bannerWrapper, 'bottom')\n\n    }else {\n      removeClass(this.bannerWrapper, 'sticky')\n      if (window.matchMedia(\"(min-width: 1024px)\").matches) {\n        navbarRight.style.transform = 'translateX(0px)'\n      }\n    }\n  }\n} export default Banner;\n","import { offset } from './../utils/offset'\nimport { hasClass, addClass, removeClass, toggleClass } from './../utils/classes'\n\nclass Navbar {\n  constructor(el){\n    this.navbar = {el: el};\n    this.navbarEl = this.navbar.el;\n    this.navbarHeight = this.navbarEl.offsetHeight;\n    this.navbarTop;\n    this.navbarBottom = this.navbarHeight + this.navbarTop;\n    this.navbarLinks = this.navbarEl.querySelectorAll('a');\n    this.navbarWrapper = this.navbarEl.querySelector('.navbar');\n    this.navbarMobileMenu = this.navbarEl.querySelector('.navbar__mobile');\n    this.initEvents();\n\n    if (window.matchMedia(\"(min-width: 1024px)\").matches) {\n      this.initDesktopEvents();\n    }\n    if (window.matchMedia(\"(max-width: 1023px)\").matches) {\n      this.initMobileEvents();\n    }\n  }\n  initEvents(){\n    if (document.querySelectorAll('#home').length > 0) {\n      this.moveToSection();\n    }\n  };\n  initDesktopEvents(){\n    var that = this;\n    document.addEventListener(\"scroll\", function(){\n      that.addSticky();\n    });\n  };\n  initMobileEvents(){\n    var that = this;\n    this.navbarMobileMenu.addEventListener(\"click\", function(){\n      that.showNavMobile();\n    });\n    if (document.querySelectorAll('#services').length > 0) {\n      this.navbarEl.querySelectorAll('.navbar__links--dropdown__items a').forEach(function(link){\n        link.addEventListener(\"click\", function(){\n          toggleClass(that.navbarWrapper, 'opened')\n        });\n      })\n    }\n  }\n  moveToSection(){\n    var that = this;\n    this.navbarLinks.forEach(function(link){\n      if (link.getAttribute('data-link') !== null) {\n        link.addEventListener(\"click\", function(){\n          event.preventDefault();\n          var sectionTo = document.querySelector('#' + link.getAttribute('data-link') + '')\n          window.scrollTo({\n            top: offset(sectionTo).top - 75,\n            left: 0,\n            behavior: 'smooth'\n          });\n          toggleClass(that.navbarWrapper, 'opened')\n        });\n\n      }\n    })\n  };\n  addSticky(){\n    this.navbarTop = offset(this.navbarEl).top;\n\n    if (this.navbarTop > 100){\n      if (!hasClass(this.navbarEl, 'sticky')){\n        addClass(this.navbarEl, 'sticky')\n      }\n    } else {\n      removeClass(this.navbarEl, 'sticky')\n    }\n  }\n  showNavMobile(){\n    toggleClass(this.navbarWrapper, 'opened')\n  }\n} export default Navbar;\n","import { offset } from './../utils/offset'\nimport { hasClass, addClass, removeClass } from './../utils/classes'\nimport { checkInView } from './../utils/checkInView'\nimport { checkMainEl } from './../utils/checkMainEl'\n\nclass ServicesMenu {\n  constructor(el){\n    this.menu = {el: el};\n    this.menuEl = this.menu.el;\n    this.menuTop;\n    this.menuBottom;\n    this.menuHeight = this.menuEl.offsetHeight;\n    this.menuLinks = this.menuEl.querySelectorAll('.list__item');\n    this.initEventsDesktop();\n    this.initEventsMobile();\n  }\n\n  initEventsDesktop(){\n    var that = this;\n    if (window.matchMedia(\"(min-width: 768px)\").matches) {\n      if (document.querySelectorAll('#home').length > 0) {\n        that.menuHomeNavDesktop();\n      }\n      if (document.querySelectorAll('#services').length > 0) {\n        that.menuServicesNavDesktop();\n        that.menuServicesMenuDesktop();\n      }\n    }\n  }\n\n  initEventsMobile(){\n    var that = this;\n    if (window.matchMedia(\"(max-width: 767px)\").matches) {\n      if (document.querySelectorAll('#home').length > 0) {\n        that.menuHomeNavMobile();\n      }\n    }\n  }\n\n  menuHomeNavDesktop(){\n    var descriptionsHome = document.querySelectorAll('.home-services__descriptions');\n    //\n    addClass(this.menuLinks[0], 'active')\n    addClass(descriptionsHome[0], 'active')\n    this.menuLinks.forEach(function(link){\n      link.addEventListener(\"click\", function(){\n        var activeLink = document.querySelector('.list__item.active');\n        var activeDescription = document.querySelector('.home-services__descriptions.active');\n        var sectionToData = this.querySelector('div').getAttribute('data-item');\n        var sectionTo = document.querySelector('.home-services__descriptions[data-description=' + sectionToData + ']');\n        removeClass(activeLink, 'active')\n        removeClass(activeDescription, 'active')\n        addClass(this, 'active')\n        addClass(sectionTo, 'active')\n      })\n    })\n  }\n\n  menuHomeNavMobile(){\n    this.menuLinks.forEach(function(link){\n      link.addEventListener(\"click\", function(){\n        var sectionToData = this.querySelector('div').getAttribute('data-item');\n        window.location.href = \"/services.html#\" + sectionToData;\n\n      })\n    })\n  }\n\n  menuServicesMenuDesktop(){\n    let that = this;\n    //\n    let sections = document.querySelectorAll('.services-services__description');\n    //\n    let firstSection = sections[0];\n    let firstSectionTop = offset(firstSection).top;\n    //\n    let lastSection = sections[sections.length - 1];\n    let lastSectionHeight = lastSection.offsetHeight;\n    let lastSectionTop = offset(lastSection).top;\n    let lastSectionBottom = lastSectionHeight + lastSectionTop;\n    //\n    document.addEventListener(\"scroll\", function(){\n\n      let windowTop = document.documentElement.scrollTop;\n      //\n      that.menuTop = offset(that.menuEl).top;\n      that.menuBottom = that.menuHeight + that.menuTop;\n      //aside Menu position\n      if (windowTop + 120 >= firstSectionTop  - 150 && windowTop + 120 + that.menuHeight < lastSectionBottom) {\n        addClass(that.menuEl, 'fixed');\n        removeClass(that.menuEl, 'bottom');\n      }  else if (windowTop + 115 + that.menuHeight >= lastSectionBottom ){\n        addClass(that.menuEl, 'bottom');\n        removeClass(that.menuEl, 'fixed');\n\n      } else if (windowTop + 115 < firstSectionTop){\n        removeClass(that.menuEl, 'fixed');\n      }\n      //check description active\n      let sectionsInView = [];\n      sections.forEach(function(section){\n          if (checkInView(section)){\n            sectionsInView.push(section);\n          }\n      });\n      if (sectionsInView.length > 0){\n        let mainSection = checkMainEl(sectionsInView);\n        if (mainSection === undefined) {\n          return\n        }\n        let mainSectionId = mainSection.getAttribute(\"data-description\");\n        let menuItemActive = document.querySelector('.list__item div[data-item=' + mainSectionId +']').parentNode\n        that.menuLinks.forEach(function(item){\n          removeClass(item, 'active');\n        })\n        addClass(menuItemActive, 'active');\n      }\n\n    })\n  }\n\n  menuServicesNavDesktop(){\n    var descriptionsServices = document.querySelectorAll('.services-services__description');\n    //\n    this.menuLinks.forEach(function(link){\n      link.addEventListener(\"click\", function(){\n        var sectionToData = this.querySelector('div').getAttribute('data-item');\n        var sectionTo = document.querySelector('.services-services__description[data-description=' + sectionToData + ']');\n        window.scrollTo({\n          top: offset(sectionTo).top,\n          left: 0,\n          behavior: 'smooth'\n        });\n      })\n    })\n  }\n\n} export default ServicesMenu;\n","import { offset } from './offset.js';\n\nexport const checkInView = function checkInView(el) {\n  // console.log(document.documentElement.scrollTop || document.body.scrollTop)\n  let windowHeight = window.innerHeight;\n  let windowTop = document.documentElement.scrollTop;\n  let windowBottom = windowTop + windowHeight;\n  //\n  let elHeight = el.offsetHeight;\n  let elTop = offset(el).top;\n  let elBottom = elHeight + elTop;\n  //\n  if ( (elTop <= windowBottom) && (elBottom >= windowTop)) {\n    return true\n  }\n}\n","import { offset } from './offset.js';\n\nexport const checkMainEl = function checkMainEl(arrayEl) {\n  let arrayObjEl = [];\n  //\n  let windowHeight = window.innerHeight;\n  let windowTop = document.documentElement.scrollTop;\n  let windowBottom = windowTop + windowHeight;\n  //\n  arrayEl.forEach(function(el){\n    let objEl = { el: ''};\n    //\n    let elHeight = el.offsetHeight;\n    let elTop = offset(el).top;\n    let elBottom = elHeight + elTop;\n    //\n    let pxInView;\n    //\n    if ( (elTop < windowTop) && (elBottom > windowBottom) ) {\n      pxInView = windowHeight;\n    } else if ( (elTop > windowTop) && ( elBottom < windowBottom) ) {\n      pxInView = elHeight\n    } else if ( elTop < windowTop ) {\n      pxInView = elBottom - windowTop\n    } else if ( elBottom > windowBottom) {\n      pxInView = windowBottom - elTop\n    }\n    //\n    let percentInView = (pxInView * 100) / windowHeight;\n    objEl.el = el;\n    objEl.percentInView = percentInView;\n    arrayObjEl.push(objEl);\n  })\n  //\n  let higherPercent = Math.max.apply(Math,arrayObjEl.map(function(obj){return obj.percentInView;}))\n  let mainElInView = arrayObjEl.find(obj => {\n    return obj.percentInView === higherPercent\n  })\n  //\n  if (mainElInView !== undefined) {\n    return mainElInView.el\n  }\n}\n","export function hasClass(el, className) {\n\treturn el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n}\n\nexport function addClass(el, className) {\n\tif (el.classList) {\n\t\tel.classList.add(className);\n\t} else if (!hasClass(el, className)) {\n\t\tel.className += ' ' + className;\n\t}\n}\n\nexport function removeClass(el, className) {\n  if (el.classList){\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  }\n}\n\nexport function toggleClass(el, className) {\n\tif (el.classList) {\n\t  el.classList.toggle(className);\n\t} else {\n\t  var classes = el.className.split(' ');\n\t  var existingIndex = classes.indexOf(className);\n\n\t  if (existingIndex >= 0)\n\t    classes.splice(existingIndex, 1);\n\t  else\n\t    classes.push(className);\n\t  el.className = classes.join(' ');\n\t}\n}\n","export const offset = function offset(el) {\n  var rect = el.getBoundingClientRect(),\n      scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n      scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n  return { top: rect.top + scrollTop, left: rect.left + scrollLeft };\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9tb2R1bGVzL0Jhbm5lci5qcyIsInNyYy9qcy9tb2R1bGVzL05hdmJhci5qcyIsInNyYy9qcy9tb2R1bGVzL1NlcnZpY2VzTWVudS5qcyIsInNyYy9qcy91dGlscy9jaGVja0luVmlldy5qcyIsInNyYy9qcy91dGlscy9jaGVja01haW5FbC5qcyIsInNyYy9qcy91dGlscy9jbGFzc2VzLmpzIiwic3JjL2pzL3V0aWxzL29mZnNldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxDQUFDLFlBQVc7QUFDVixNQUFJLGFBQWEsSUFBSSxnQkFBSixDQUFXLFNBQVMsYUFBVCxDQUF1QixNQUF2QixDQUFYLENBQWpCO0FBQ0QsQ0FGRDs7Ozs7Ozs7Ozs7QUNMQTs7QUFDQTs7OztJQUVNLE07QUFDSixrQkFBWSxFQUFaLEVBQWU7QUFBQTs7QUFDYixTQUFLLE1BQUwsR0FBYyxFQUFDLElBQUksRUFBTCxFQUFkO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLEtBQUssTUFBTCxDQUFZLEVBQTVCO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLG9CQUFPLEtBQUssUUFBWixFQUFzQixHQUF2QztBQUNBLFNBQUssWUFBTCxHQUFvQixLQUFLLFFBQUwsQ0FBYyxZQUFsQztBQUNBLFNBQUssWUFBTCxHQUFvQixLQUFLLFNBQUwsR0FBaUIsS0FBSyxZQUExQztBQUNBLFNBQUssYUFBTCxHQUFxQixLQUFLLFFBQUwsQ0FBYyxhQUFkLENBQTRCLGtCQUE1QixDQUFyQjtBQUNBLFNBQUssVUFBTDtBQUNEOzs7O2lDQUVXO0FBQ1YsVUFBSSxPQUFPLElBQVg7QUFDQSxlQUFTLGdCQUFULENBQTBCLFFBQTFCLEVBQW9DLFlBQVU7QUFDNUMsYUFBSyxTQUFMO0FBQ0QsT0FGRDtBQUdEOzs7Z0NBRVU7QUFDVCxVQUFJ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RU87QUFDTCxLQUFHLFNBQUgsR0FBZSxHQUFHLFNBQUgsQ0FBYSxPQUFiLENBQXFCLElBQUksTUFBSixDQUFXLFlBQVksVUFBVSxLQUFWLENBQWdCLEdBQWhCLEVBQXFCLElBQXJCLENBQTBCLEdBQTFCLENBQVosR0FBNkMsU0FBeEQsRUFBbUUsSUFBbkUsQ0FBckIsRUFBK0YsR0FBL0YsQ0FBZjtBQUNEO0FBQ0Y7O0FBRU0sU0FBUyxXQUFULENBQXFCLEVBQXJCLEVBQXlCLFNBQXpCLEVBQW9DO0FBQzFDLEtBQUksR0FBRyxTQUFQLEVBQWtCO0FBQ2hCLEtBQUcsU0FBSCxDQUFhLE1BQWIsQ0FBb0IsU0FBcEI7QUFDRCxFQUZELE1BRU87QUFDTCxNQUFJLFVBQVUsR0FBRyxTQUFILENBQWEsS0FBYixDQUFtQixHQUFuQixDQUFkO0FBQ0EsTUFBSSxnQkFBZ0IsUUFBUSxPQUFSLENBQWdCLFNBQWhCLENBQXBCOztBQUVBLE1BQUksaUJBQWlCLENBQXJCLEVBQ0UsUUFBUSxNQUFSLENBQWUsYUFBZixFQUE4QixDQUE5QixFQURGLEtBR0UsUUFBUSxJQUFSLENBQWEsU0FBYjtBQUNGLEtBQUcsU0FBSCxHQUFlLFFBQVEsSUFBUixDQUFhLEdBQWIsQ0FBZjtBQUNEO0FBQ0Q7Ozs7Ozs7O0FDakNNLElBQU0sMEJBQVMsU0FBUyxNQUFULENBQWdCLEVBQWhCLEVBQW9CO0FBQ3hDLFFBQUksT0FBTyxHQUFHLHFCQUFILEVBQVg7QUFBQSxRQUNJLGFBQWEsT0FBTyxXQUFQLElBQXNCLFNBQVMsZUFBVCxDQUF5QixVQURoRTtBQUFBLFFBRUksWUFBWSxPQUFPLFdBQVAsSUFBc0IsU0FBUyxlQUFULENBQXlCLFNBRi9EO0FBR0EsV0FBTyxFQUFFLEtBQUssS0FBSyxHQUFMLEdBQVcsU0FBbEIsRUFBNkIsTUFBTSxLQUFLLElBQUwsR0FBWSxVQUEvQyxFQUFQO0FBQ0QsQ0FMTSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxuaW1wb3J0IE5hdmJhciBmcm9tICcuL21vZHVsZXMvTmF2YmFyLmpzJztcbmltcG9ydCBTZXJ2aWNlc01lbnUgZnJvbSAnLi9tb2R1bGVzL1NlcnZpY2VzTWVudS5qcyc7XG5pbXBvcnQgQmFubmVyIGZyb20gJy4vbW9kdWxlcy9CYW5uZXIuanMnO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBOYXZiYXJJbml0ID0gbmV3IE5hdmJhcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hdlwiKSk7XG59KSgpXG4iLCJpbXBvcnQgeyBvZmZzZXQgfSBmcm9tICcuLy4uL3V0aWxzL29mZnNldCdcbmltcG9ydCB7IGhhc0NsYXNzLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MgfSBmcm9tICcuLy4uL3V0aWxzL2NsYXNzZXMnXG5cbmNsYXNzIEJhbm5lciB7XG4gIGNvbnN0cnVjdG9yKGVsKXtcbiAgICB0aGlzLmJhbm5lciA9IHtlbDogZWx9O1xuICAgIHRoaXMuYmFubmVyRWwgPSB0aGlzLmJhbm5lci5lbDtcbiAgICB0aGlzLmJhbm5lclRvcCA9IG9mZnNldCh0aGlzLmJhbm5lckVsKS50b3A7XG4gICAgdGhpcy5iYW5uZXJIZWlnaHQgPSB0aGlzLmJhbm5lckVsLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmJhbm5lckJvdHRvbSA9IHRoaXMuYmFubmVyVG9wICsgdGhpcy5iYW5uZXJIZWlnaHQ7XG4gICAgdGhpcy5iYW5uZXJXcmFwcGVyID0gdGhpcy5iYW5uZXJFbC5xdWVyeVNlbGVjdG9yKCcuYmFubmVyX193cmFwcGVyJyk7XG4gICAgdGhpcy5pbml0RXZlbnRzKCk7XG4gIH1cblxuICBpbml0RXZlbnRzKCl7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZnVuY3Rpb24oKXtcbiAgICAgIHRoYXQuYWRkU3RpY2t5KCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRTdGlja3koKXtcbiAgICB2YXIgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIHZhciB3aW5kb3dUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIHZhciB3aW5kb3dCb3R0b20gPSB3aW5kb3dUb3AgKyB3aW5kb3dIZWlnaHQ7XG4gICAgdmFyIG5hdmJhclJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcl9fcmlnaHQnKTtcbiAgICB2YXIgbmF2YmFyUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyX19yaWdodCcpO1xuICAgIHZhciBuYXZiYXJUb3AgPSBvZmZzZXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hdicpKS50b3A7XG5cbiAgICBpZiAobmF2YmFyVG9wID4gNTAwICYmIHdpbmRvd0JvdHRvbSAtIHRoaXMuYmFubmVyV3JhcHBlci5vZmZzZXRIZWlnaHQgPCB0aGlzLmJhbm5lckJvdHRvbSApe1xuICAgICAgaWYgKCFoYXNDbGFzcyh0aGlzLmJhbm5lcldyYXBwZXIsICdzdGlja3knKSl7XG4gICAgICAgIGFkZENsYXNzKHRoaXMuYmFubmVyV3JhcHBlciwgJ3N0aWNreScpO1xuICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmJhbm5lcldyYXBwZXIsICdib3R0b20nKTtcbiAgICAgICAgLy9cbiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMTAyNHB4KVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgbmF2YmFyUmlnaHQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMjQ1cHgpJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh3aW5kb3dCb3R0b20gIC0gdGhpcy5iYW5uZXJXcmFwcGVyLm9mZnNldEhlaWdodCA+IHRoaXMuYmFubmVyQm90dG9tICApIHtcbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuYmFubmVyV3JhcHBlciwgJ3N0aWNreScpXG4gICAgICBhZGRDbGFzcyh0aGlzLmJhbm5lcldyYXBwZXIsICdib3R0b20nKVxuXG4gICAgfWVsc2Uge1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5iYW5uZXJXcmFwcGVyLCAnc3RpY2t5JylcbiAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDEwMjRweClcIikubWF0Y2hlcykge1xuICAgICAgICBuYXZiYXJSaWdodC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwcHgpJ1xuICAgICAgfVxuICAgIH1cbiAgfVxufSBleHBvcnQgZGVmYXVsdCBCYW5uZXI7XG4iLCJpbXBvcnQgeyBvZmZzZXQgfSBmcm9tICcuLy4uL3V0aWxzL29mZnNldCdcbmltcG9ydCB7IGhhc0NsYXNzLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIHRvZ2dsZUNsYXNzIH0gZnJvbSAnLi8uLi91dGlscy9jbGFzc2VzJ1xuXG5jbGFzcyBOYXZiYXIge1xuICBjb25zdHJ1Y3RvcihlbCl7XG4gICAgdGhpcy5uYXZiYXIgPSB7ZWw6IGVsfTtcbiAgICB0aGlzLm5hdmJhckVsID0gdGhpcy5uYXZiYXIuZWw7XG4gICAgdGhpcy5uYXZiYXJIZWlnaHQgPSB0aGlzLm5hdmJhckVsLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLm5hdmJhclRvcDtcbiAgICB0aGlzLm5hdmJhckJvdHRvbSA9IHRoaXMubmF2YmFySGVpZ2h0ICsgdGhpcy5uYXZiYXJUb3A7XG4gICAgdGhpcy5uYXZiYXJMaW5rcyA9IHRoaXMubmF2YmFyRWwucXVlcnlTZWxlY3RvckFsbCgnYScpO1xuICAgIHRoaXMubmF2YmFyV3JhcHBlciA9IHRoaXMubmF2YmFyRWwucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuICAgIHRoaXMubmF2YmFyTW9iaWxlTWVudSA9IHRoaXMubmF2YmFyRWwucXVlcnlTZWxlY3RvcignLm5hdmJhcl9fbW9iaWxlJyk7XG4gICAgdGhpcy5pbml0RXZlbnRzKCk7XG5cbiAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMDI0cHgpXCIpLm1hdGNoZXMpIHtcbiAgICAgIHRoaXMuaW5pdERlc2t0b3BFdmVudHMoKTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogMTAyM3B4KVwiKS5tYXRjaGVzKSB7XG4gICAgICB0aGlzLmluaXRNb2JpbGVFdmVudHMoKTtcbiAgICB9XG4gIH1cbiAgaW5pdEV2ZW50cygpe1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjaG9tZScpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMubW92ZVRvU2VjdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgaW5pdERlc2t0b3BFdmVudHMoKXtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmdW5jdGlvbigpe1xuICAgICAgdGhhdC5hZGRTdGlja3koKTtcbiAgICB9KTtcbiAgfTtcbiAgaW5pdE1vYmlsZUV2ZW50cygpe1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLm5hdmJhck1vYmlsZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgICB0aGF0LnNob3dOYXZNb2JpbGUoKTtcbiAgICB9KTtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3NlcnZpY2VzJykubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5uYXZiYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2YmFyX19saW5rcy0tZHJvcGRvd25fX2l0ZW1zIGEnKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmspe1xuICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKHRoYXQubmF2YmFyV3JhcHBlciwgJ29wZW5lZCcpXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgbW92ZVRvU2VjdGlvbigpe1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLm5hdmJhckxpbmtzLmZvckVhY2goZnVuY3Rpb24obGluayl7XG4gICAgICBpZiAobGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGluaycpICE9PSBudWxsKSB7XG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgc2VjdGlvblRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1saW5rJykgKyAnJylcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgdG9wOiBvZmZzZXQoc2VjdGlvblRvKS50b3AgLSA3NSxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0b2dnbGVDbGFzcyh0aGF0Lm5hdmJhcldyYXBwZXIsICdvcGVuZWQnKVxuICAgICAgICB9KTtcblxuICAgICAgfVxuICAgIH0pXG4gIH07XG4gIGFkZFN0aWNreSgpe1xuICAgIHRoaXMubmF2YmFyVG9wID0gb2Zmc2V0KHRoaXMubmF2YmFyRWwpLnRvcDtcblxuICAgIGlmICh0aGlzLm5hdmJhclRvcCA+IDEwMCl7XG4gICAgICBpZiAoIWhhc0NsYXNzKHRoaXMubmF2YmFyRWwsICdzdGlja3knKSl7XG4gICAgICAgIGFkZENsYXNzKHRoaXMubmF2YmFyRWwsICdzdGlja3knKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVDbGFzcyh0aGlzLm5hdmJhckVsLCAnc3RpY2t5JylcbiAgICB9XG4gIH1cbiAgc2hvd05hdk1vYmlsZSgpe1xuICAgIHRvZ2dsZUNsYXNzKHRoaXMubmF2YmFyV3JhcHBlciwgJ29wZW5lZCcpXG4gIH1cbn0gZXhwb3J0IGRlZmF1bHQgTmF2YmFyO1xuIiwiaW1wb3J0IHsgb2Zmc2V0IH0gZnJvbSAnLi8uLi91dGlscy9vZmZzZXQnXG5pbXBvcnQgeyBoYXNDbGFzcywgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzIH0gZnJvbSAnLi8uLi91dGlscy9jbGFzc2VzJ1xuaW1wb3J0IHsgY2hlY2tJblZpZXcgfSBmcm9tICcuLy4uL3V0aWxzL2NoZWNrSW5WaWV3J1xuaW1wb3J0IHsgY2hlY2tNYWluRWwgfSBmcm9tICcuLy4uL3V0aWxzL2NoZWNrTWFpbkVsJ1xuXG5jbGFzcyBTZXJ2aWNlc01lbnUge1xuICBjb25zdHJ1Y3RvcihlbCl7XG4gICAgdGhpcy5tZW51ID0ge2VsOiBlbH07XG4gICAgdGhpcy5tZW51RWwgPSB0aGlzLm1lbnUuZWw7XG4gICAgdGhpcy5tZW51VG9wO1xuICAgIHRoaXMubWVudUJvdHRvbTtcbiAgICB0aGlzLm1lbnVIZWlnaHQgPSB0aGlzLm1lbnVFbC5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5tZW51TGlua3MgPSB0aGlzLm1lbnVFbC5xdWVyeVNlbGVjdG9yQWxsKCcubGlzdF9faXRlbScpO1xuICAgIHRoaXMuaW5pdEV2ZW50c0Rlc2t0b3AoKTtcbiAgICB0aGlzLmluaXRFdmVudHNNb2JpbGUoKTtcbiAgfVxuXG4gIGluaXRFdmVudHNEZXNrdG9wKCl7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDc2OHB4KVwiKS5tYXRjaGVzKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2hvbWUnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoYXQubWVudUhvbWVOYXZEZXNrdG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3NlcnZpY2VzJykubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGF0Lm1lbnVTZXJ2aWNlc05hdkRlc2t0b3AoKTtcbiAgICAgICAgdGhhdC5tZW51U2VydmljZXNNZW51RGVza3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluaXRFdmVudHNNb2JpbGUoKXtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzY3cHgpXCIpLm1hdGNoZXMpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjaG9tZScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhhdC5tZW51SG9tZU5hdk1vYmlsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1lbnVIb21lTmF2RGVza3RvcCgpe1xuICAgIHZhciBkZXNjcmlwdGlvbnNIb21lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhvbWUtc2VydmljZXNfX2Rlc2NyaXB0aW9ucycpO1xuICAgIC8vXG4gICAgYWRkQ2xhc3ModGhpcy5tZW51TGlua3NbMF0sICdhY3RpdmUnKVxuICAgIGFkZENsYXNzKGRlc2NyaXB0aW9uc0hvbWVbMF0sICdhY3RpdmUnKVxuICAgIHRoaXMubWVudUxpbmtzLmZvckVhY2goZnVuY3Rpb24obGluayl7XG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYWN0aXZlTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0X19pdGVtLmFjdGl2ZScpO1xuICAgICAgICB2YXIgYWN0aXZlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZS1zZXJ2aWNlc19fZGVzY3JpcHRpb25zLmFjdGl2ZScpO1xuICAgICAgICB2YXIgc2VjdGlvblRvRGF0YSA9IHRoaXMucXVlcnlTZWxlY3RvcignZGl2JykuZ2V0QXR0cmlidXRlKCdkYXRhLWl0ZW0nKTtcbiAgICAgICAgdmFyIHNlY3Rpb25UbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lLXNlcnZpY2VzX19kZXNjcmlwdGlvbnNbZGF0YS1kZXNjcmlwdGlvbj0nICsgc2VjdGlvblRvRGF0YSArICddJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGFjdGl2ZUxpbmssICdhY3RpdmUnKVxuICAgICAgICByZW1vdmVDbGFzcyhhY3RpdmVEZXNjcmlwdGlvbiwgJ2FjdGl2ZScpXG4gICAgICAgIGFkZENsYXNzKHRoaXMsICdhY3RpdmUnKVxuICAgICAgICBhZGRDbGFzcyhzZWN0aW9uVG8sICdhY3RpdmUnKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgbWVudUhvbWVOYXZNb2JpbGUoKXtcbiAgICB0aGlzLm1lbnVMaW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGxpbmspe1xuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHNlY3Rpb25Ub0RhdGEgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2RpdicpLmdldEF0dHJpYnV0ZSgnZGF0YS1pdGVtJyk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvc2VydmljZXMuaHRtbCNcIiArIHNlY3Rpb25Ub0RhdGE7XG5cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIG1lbnVTZXJ2aWNlc01lbnVEZXNrdG9wKCl7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgIC8vXG4gICAgbGV0IHNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzLXNlcnZpY2VzX19kZXNjcmlwdGlvbicpO1xuICAgIC8vXG4gICAgbGV0IGZpcnN0U2VjdGlvbiA9IHNlY3Rpb25zWzBdO1xuICAgIGxldCBmaXJzdFNlY3Rpb25Ub3AgPSBvZmZzZXQoZmlyc3RTZWN0aW9uKS50b3A7XG4gICAgLy9cbiAgICBsZXQgbGFzdFNlY3Rpb24gPSBzZWN0aW9uc1tzZWN0aW9ucy5sZW5ndGggLSAxXTtcbiAgICBsZXQgbGFzdFNlY3Rpb25IZWlnaHQgPSBsYXN0U2VjdGlvbi5vZmZzZXRIZWlnaHQ7XG4gICAgbGV0IGxhc3RTZWN0aW9uVG9wID0gb2Zmc2V0KGxhc3RTZWN0aW9uKS50b3A7XG4gICAgbGV0IGxhc3RTZWN0aW9uQm90dG9tID0gbGFzdFNlY3Rpb25IZWlnaHQgKyBsYXN0U2VjdGlvblRvcDtcbiAgICAvL1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZnVuY3Rpb24oKXtcblxuICAgICAgbGV0IHdpbmRvd1RvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAvL1xuICAgICAgdGhhdC5tZW51VG9wID0gb2Zmc2V0KHRoYXQubWVudUVsKS50b3A7XG4gICAgICB0aGF0Lm1lbnVCb3R0b20gPSB0aGF0Lm1lbnVIZWlnaHQgKyB0aGF0Lm1lbnVUb3A7XG4gICAgICAvL2FzaWRlIE1lbnUgcG9zaXRpb25cbiAgICAgIGlmICh3aW5kb3dUb3AgKyAxMjAgPj0gZmlyc3RTZWN0aW9uVG9wICAtIDE1MCAmJiB3aW5kb3dUb3AgKyAxMjAgKyB0aGF0Lm1lbnVIZWlnaHQgPCBsYXN0U2VjdGlvbkJvdHRvbSkge1xuICAgICAgICBhZGRDbGFzcyh0aGF0Lm1lbnVFbCwgJ2ZpeGVkJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKHRoYXQubWVudUVsLCAnYm90dG9tJyk7XG4gICAgICB9ICBlbHNlIGlmICh3aW5kb3dUb3AgKyAxMTUgKyB0aGF0Lm1lbnVIZWlnaHQgPj0gbGFzdFNlY3Rpb25Cb3R0b20gKXtcbiAgICAgICAgYWRkQ2xhc3ModGhhdC5tZW51RWwsICdib3R0b20nKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3ModGhhdC5tZW51RWwsICdmaXhlZCcpO1xuXG4gICAgICB9IGVsc2UgaWYgKHdpbmRvd1RvcCArIDExNSA8IGZpcnN0U2VjdGlvblRvcCl7XG4gICAgICAgIHJlbW92ZUNsYXNzKHRoYXQubWVudUVsLCAnZml4ZWQnKTtcbiAgICAgIH1cbiAgICAgIC8vY2hlY2sgZGVzY3JpcHRpb24gYWN0aXZlXG4gICAgICBsZXQgc2VjdGlvbnNJblZpZXcgPSBbXTtcbiAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbil7XG4gICAgICAgICAgaWYgKGNoZWNrSW5WaWV3KHNlY3Rpb24pKXtcbiAgICAgICAgICAgIHNlY3Rpb25zSW5WaWV3LnB1c2goc2VjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoc2VjdGlvbnNJblZpZXcubGVuZ3RoID4gMCl7XG4gICAgICAgIGxldCBtYWluU2VjdGlvbiA9IGNoZWNrTWFpbkVsKHNlY3Rpb25zSW5WaWV3KTtcbiAgICAgICAgaWYgKG1haW5TZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXQgbWFpblNlY3Rpb25JZCA9IG1haW5TZWN0aW9uLmdldEF0dHJpYnV0ZShcImRhdGEtZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGxldCBtZW51SXRlbUFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0X19pdGVtIGRpdltkYXRhLWl0ZW09JyArIG1haW5TZWN0aW9uSWQgKyddJykucGFyZW50Tm9kZVxuICAgICAgICB0aGF0Lm1lbnVMaW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgIHJlbW92ZUNsYXNzKGl0ZW0sICdhY3RpdmUnKTtcbiAgICAgICAgfSlcbiAgICAgICAgYWRkQ2xhc3MobWVudUl0ZW1BY3RpdmUsICdhY3RpdmUnKTtcbiAgICAgIH1cblxuICAgIH0pXG4gIH1cblxuICBtZW51U2VydmljZXNOYXZEZXNrdG9wKCl7XG4gICAgdmFyIGRlc2NyaXB0aW9uc1NlcnZpY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2VzLXNlcnZpY2VzX19kZXNjcmlwdGlvbicpO1xuICAgIC8vXG4gICAgdGhpcy5tZW51TGlua3MuZm9yRWFjaChmdW5jdGlvbihsaW5rKXtcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBzZWN0aW9uVG9EYXRhID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdkaXYnKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaXRlbScpO1xuICAgICAgICB2YXIgc2VjdGlvblRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlcnZpY2VzLXNlcnZpY2VzX19kZXNjcmlwdGlvbltkYXRhLWRlc2NyaXB0aW9uPScgKyBzZWN0aW9uVG9EYXRhICsgJ10nKTtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgICAgICB0b3A6IG9mZnNldChzZWN0aW9uVG8pLnRvcCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG59IGV4cG9ydCBkZWZhdWx0IFNlcnZpY2VzTWVudTtcbiIsImltcG9ydCB7IG9mZnNldCB9IGZyb20gJy4vb2Zmc2V0LmpzJztcblxuZXhwb3J0IGNvbnN0IGNoZWNrSW5WaWV3ID0gZnVuY3Rpb24gY2hlY2tJblZpZXcoZWwpIHtcbiAgLy8gY29uc29sZS5sb2coZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcClcbiAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgbGV0IHdpbmRvd1RvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGxldCB3aW5kb3dCb3R0b20gPSB3aW5kb3dUb3AgKyB3aW5kb3dIZWlnaHQ7XG4gIC8vXG4gIGxldCBlbEhlaWdodCA9IGVsLm9mZnNldEhlaWdodDtcbiAgbGV0IGVsVG9wID0gb2Zmc2V0KGVsKS50b3A7XG4gIGxldCBlbEJvdHRvbSA9IGVsSGVpZ2h0ICsgZWxUb3A7XG4gIC8vXG4gIGlmICggKGVsVG9wIDw9IHdpbmRvd0JvdHRvbSkgJiYgKGVsQm90dG9tID49IHdpbmRvd1RvcCkpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG4iLCJpbXBvcnQgeyBvZmZzZXQgfSBmcm9tICcuL29mZnNldC5qcyc7XG5cbmV4cG9ydCBjb25zdCBjaGVja01haW5FbCA9IGZ1bmN0aW9uIGNoZWNrTWFpbkVsKGFycmF5RWwpIHtcbiAgbGV0IGFycmF5T2JqRWwgPSBbXTtcbiAgLy9cbiAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgbGV0IHdpbmRvd1RvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGxldCB3aW5kb3dCb3R0b20gPSB3aW5kb3dUb3AgKyB3aW5kb3dIZWlnaHQ7XG4gIC8vXG4gIGFycmF5RWwuZm9yRWFjaChmdW5jdGlvbihlbCl7XG4gICAgbGV0IG9iakVsID0geyBlbDogJyd9O1xuICAgIC8vXG4gICAgbGV0IGVsSGVpZ2h0ID0gZWwub2Zmc2V0SGVpZ2h0O1xuICAgIGxldCBlbFRvcCA9IG9mZnNldChlbCkudG9wO1xuICAgIGxldCBlbEJvdHRvbSA9IGVsSGVpZ2h0ICsgZWxUb3A7XG4gICAgLy9cbiAgICBsZXQgcHhJblZpZXc7XG4gICAgLy9cbiAgICBpZiAoIChlbFRvcCA8IHdpbmRvd1RvcCkgJiYgKGVsQm90dG9tID4gd2luZG93Qm90dG9tKSApIHtcbiAgICAgIHB4SW5WaWV3ID0gd2luZG93SGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoIChlbFRvcCA+IHdpbmRvd1RvcCkgJiYgKCBlbEJvdHRvbSA8IHdpbmRvd0JvdHRvbSkgKSB7XG4gICAgICBweEluVmlldyA9IGVsSGVpZ2h0XG4gICAgfSBlbHNlIGlmICggZWxUb3AgPCB3aW5kb3dUb3AgKSB7XG4gICAgICBweEluVmlldyA9IGVsQm90dG9tIC0gd2luZG93VG9wXG4gICAgfSBlbHNlIGlmICggZWxCb3R0b20gPiB3aW5kb3dCb3R0b20pIHtcbiAgICAgIHB4SW5WaWV3ID0gd2luZG93Qm90dG9tIC0gZWxUb3BcbiAgICB9XG4gICAgLy9cbiAgICBsZXQgcGVyY2VudEluVmlldyA9IChweEluVmlldyAqIDEwMCkgLyB3aW5kb3dIZWlnaHQ7XG4gICAgb2JqRWwuZWwgPSBlbDtcbiAgICBvYmpFbC5wZXJjZW50SW5WaWV3ID0gcGVyY2VudEluVmlldztcbiAgICBhcnJheU9iakVsLnB1c2gob2JqRWwpO1xuICB9KVxuICAvL1xuICBsZXQgaGlnaGVyUGVyY2VudCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsYXJyYXlPYmpFbC5tYXAoZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqLnBlcmNlbnRJblZpZXc7fSkpXG4gIGxldCBtYWluRWxJblZpZXcgPSBhcnJheU9iakVsLmZpbmQob2JqID0+IHtcbiAgICByZXR1cm4gb2JqLnBlcmNlbnRJblZpZXcgPT09IGhpZ2hlclBlcmNlbnRcbiAgfSlcbiAgLy9cbiAgaWYgKG1haW5FbEluVmlldyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG1haW5FbEluVmlldy5lbFxuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuXHRyZXR1cm4gZWwuY2xhc3NMaXN0ID8gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkgOiBuZXcgUmVnRXhwKCdcXFxcYicgKyBjbGFzc05hbWUgKyAnXFxcXGInKS50ZXN0KGVsLmNsYXNzTmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG5cdGlmIChlbC5jbGFzc0xpc3QpIHtcblx0XHRlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdH0gZWxzZSBpZiAoIWhhc0NsYXNzKGVsLCBjbGFzc05hbWUpKSB7XG5cdFx0ZWwuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICBpZiAoZWwuY2xhc3NMaXN0KXtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuXHRpZiAoZWwuY2xhc3NMaXN0KSB7XG5cdCAgZWwuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xuXHR9IGVsc2Uge1xuXHQgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG5cdCAgdmFyIGV4aXN0aW5nSW5kZXggPSBjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKTtcblxuXHQgIGlmIChleGlzdGluZ0luZGV4ID49IDApXG5cdCAgICBjbGFzc2VzLnNwbGljZShleGlzdGluZ0luZGV4LCAxKTtcblx0ICBlbHNlXG5cdCAgICBjbGFzc2VzLnB1c2goY2xhc3NOYW1lKTtcblx0ICBlbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxufVxuIiwiZXhwb3J0IGNvbnN0IG9mZnNldCA9IGZ1bmN0aW9uIG9mZnNldChlbCkge1xuICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgc2Nyb2xsTGVmdCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICByZXR1cm4geyB0b3A6IHJlY3QudG9wICsgc2Nyb2xsVG9wLCBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGxMZWZ0IH07XG59XG4iXX0="}